{"ast":null,"code":"/*! @hebcal/core v5.9.0, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { omerSefira, Locale, gematriya, omerEmoji, omerTodayIs } from '@hebcal/hdate';\nimport { Event, flags } from './event.js';\nimport './locale.js';\n\n/** Represents a day 1-49 of counting the Omer from Pesach to Shavuot */\nclass OmerEvent extends Event {\n  /**\n   * @param date\n   * @param omerDay\n   */\n  constructor(date, omerDay) {\n    super(date, `Omer ${omerDay}`, flags.OMER_COUNT);\n    if (omerDay < 1 || omerDay > 49) {\n      throw new RangeError(`Invalid Omer day ${omerDay}`);\n    }\n    this.weekNumber = Math.floor((omerDay - 1) / 7) + 1;\n    this.daysWithinWeeks = omerDay % 7 || 7;\n    this.omer = omerDay;\n  }\n  /**\n   * @param lang\n   */\n  sefira(lang = 'en') {\n    if (lang !== 'he' && lang !== 'translit') {\n      lang = 'en';\n    }\n    return omerSefira(this.omer, lang);\n  }\n  /**\n   * @todo use gettext()\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale) {\n    locale = locale !== null && locale !== undefined ? locale : Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrewLocale = locale === 'he' || locale === 'he-x-nonikud' || locale === 'h';\n    const omer = this.omer;\n    const nth = isHebrewLocale ? gematriya(omer) : Locale.ordinal(omer, locale);\n    return nth + ' ' + Locale.gettext('day of the Omer', locale);\n  }\n  /**\n   * Returns translation of \"Omer day 22\" without ordinal numbers.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale) {\n    return Locale.gettext('Omer', locale) + ' ' + Locale.gettext('day', locale) + ' ' + this.omer;\n  }\n  getEmoji() {\n    if (typeof this.emoji === 'string') return this.emoji;\n    return omerEmoji(this.omer);\n  }\n  getWeeks() {\n    const day7 = this.daysWithinWeeks === 7;\n    return day7 ? this.weekNumber : this.weekNumber - 1;\n  }\n  getDaysWithinWeeks() {\n    return this.daysWithinWeeks;\n  }\n  /**\n   * @param locale\n   */\n  getTodayIs(locale) {\n    locale = locale !== null && locale !== undefined ? locale : Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const omerLang = locale === 'he' || locale === 'he-x-nonikud' ? 'he' : 'en';\n    const str = omerTodayIs(this.omer, omerLang);\n    if (locale === 'he-x-nonikud') {\n      return Locale.hebrewStripNikkud(str);\n    }\n    return str;\n  }\n  url() {\n    return `https://www.hebcal.com/omer/${this.getDate().getFullYear()}/${this.omer}`;\n  }\n}\nexport { OmerEvent };","map":{"version":3,"names":["OmerEvent","Event","constructor","date","omerDay","flags","OMER_COUNT","RangeError","weekNumber","Math","floor","daysWithinWeeks","omer","sefira","lang","omerSefira","render","locale","undefined","Locale","getLocaleName","toLowerCase","isHebrewLocale","nth","gematriya","ordinal","gettext","renderBrief","getEmoji","emoji","omerEmoji","getWeeks","day7","getDaysWithinWeeks","getTodayIs","omerLang","str","omerTodayIs","hebrewStripNikkud","url","getDate","getFullYear"],"sources":["/Users/shelton/Desktop/Personal Projects/BibliCalendar/biblicalendar_app/node_modules/@hebcal/src/omer.ts"],"sourcesContent":["import {\n  HDate,\n  Locale,\n  OmerLang,\n  gematriya,\n  omerEmoji,\n  omerSefira,\n  omerTodayIs,\n} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/** Represents a day 1-49 of counting the Omer from Pesach to Shavuot */\nexport class OmerEvent extends Event {\n  private readonly weekNumber: number;\n  private readonly daysWithinWeeks: number;\n  readonly omer: number;\n  emoji?: string;\n\n  /**\n   * @param date\n   * @param omerDay\n   */\n  constructor(date: HDate, omerDay: number) {\n    super(date, `Omer ${omerDay}`, flags.OMER_COUNT);\n    if (omerDay < 1 || omerDay > 49) {\n      throw new RangeError(`Invalid Omer day ${omerDay}`);\n    }\n    this.weekNumber = Math.floor((omerDay - 1) / 7) + 1;\n    this.daysWithinWeeks = omerDay % 7 || 7;\n    this.omer = omerDay;\n  }\n  /**\n   * @param lang\n   */\n  sefira(lang = 'en'): string {\n    if (lang !== 'he' && lang !== 'translit') {\n      lang = 'en';\n    }\n    return omerSefira(this.omer, lang as OmerLang);\n  }\n  /**\n   * @todo use gettext()\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrewLocale =\n      locale === 'he' || locale === 'he-x-nonikud' || locale === 'h';\n    const omer = this.omer;\n    const nth = isHebrewLocale ? gematriya(omer) : Locale.ordinal(omer, locale);\n    return nth + ' ' + Locale.gettext('day of the Omer', locale);\n  }\n  /**\n   * Returns translation of \"Omer day 22\" without ordinal numbers.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return (\n      Locale.gettext('Omer', locale) +\n      ' ' +\n      Locale.gettext('day', locale) +\n      ' ' +\n      this.omer\n    );\n  }\n\n  getEmoji(): string {\n    if (typeof this.emoji === 'string') return this.emoji;\n    return omerEmoji(this.omer);\n  }\n\n  getWeeks(): number {\n    const day7 = this.daysWithinWeeks === 7;\n    return day7 ? this.weekNumber : this.weekNumber - 1;\n  }\n\n  getDaysWithinWeeks(): number {\n    return this.daysWithinWeeks;\n  }\n  /**\n   * @param locale\n   */\n  getTodayIs(locale: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const omerLang = locale === 'he' || locale === 'he-x-nonikud' ? 'he' : 'en';\n    const str = omerTodayIs(this.omer, omerLang) as string;\n    if (locale === 'he-x-nonikud') {\n      return Locale.hebrewStripNikkud(str);\n    }\n    return str;\n  }\n\n  url(): string {\n    return `https://www.hebcal.com/omer/${this.getDate().getFullYear()}/${this.omer}`;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}