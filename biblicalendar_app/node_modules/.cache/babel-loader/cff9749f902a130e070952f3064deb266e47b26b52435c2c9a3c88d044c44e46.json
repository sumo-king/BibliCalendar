{"ast":null,"code":"/*! @hebcal/core v5.9.0, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { months } from '@hebcal/hdate';\nimport { flags } from './event.js';\nconst NONE = 0;\nconst HALF = 1;\nconst WHOLE = 2;\n/**\n * @private\n */\nfunction hallel_(events, hdate) {\n  const whole = events.filter(ev => {\n    const desc = ev.getDesc();\n    const hd = ev.getDate();\n    const month = hd.getMonth();\n    const mday = hd.getDate();\n    return desc.startsWith('Chanukah') || desc.startsWith('Shavuot') || desc.startsWith('Sukkot') || month === months.NISAN && (mday === 15 || mday === 16) && ev.getFlags() & flags.CHAG ||\n    // Pesach\n    desc === \"Yom HaAtzma'ut\" || desc === 'Yom Yerushalayim';\n  }).map(ev => {\n    return ev.getDate().abs();\n  });\n  const abs = hdate.abs();\n  if (whole.includes(abs)) {\n    return WHOLE;\n  }\n  const half = events.filter(ev => {\n    const desc = ev.getDesc();\n    return ev.getFlags() & flags.ROSH_CHODESH || desc.startsWith('Pesach') && desc !== 'Pesach I' && desc !== 'Pesach II';\n  }).map(ev => {\n    return ev.getDate().abs();\n  });\n  if (half.includes(abs)) {\n    return HALF;\n  }\n  return NONE;\n}\nexport { hallel_ };","map":{"version":3,"names":["NONE","HALF","WHOLE","hallel_","events","hdate","whole","filter","ev","desc","getDesc","hd","getDate","month","getMonth","mday","startsWith","months","NISAN","getFlags","flags","CHAG","map","abs","includes","half","ROSH_CHODESH"],"sources":["/Users/shelton/Desktop/Personal Projects/BibliCalendar/biblicalendar_app/node_modules/@hebcal/src/hallel.ts"],"sourcesContent":["import {HDate, months} from '@hebcal/hdate';\nimport {Event, flags} from './event';\n\nconst NONE = 0;\nconst HALF = 1;\nconst WHOLE = 2;\n\n/**\n * @private\n */\nexport function hallel_(events: Event[], hdate: HDate): number {\n  const whole = events\n    .filter(ev => {\n      const desc: string = ev.getDesc();\n      const hd: HDate = ev.getDate();\n      const month = hd.getMonth();\n      const mday = hd.getDate();\n      return (\n        desc.startsWith('Chanukah') ||\n        desc.startsWith('Shavuot') ||\n        desc.startsWith('Sukkot') ||\n        (month === months.NISAN &&\n          (mday === 15 || mday === 16) &&\n          ev.getFlags() & flags.CHAG) || // Pesach\n        desc === \"Yom HaAtzma'ut\" ||\n        desc === 'Yom Yerushalayim'\n      );\n    })\n    .map(ev => {\n      return ev.getDate().abs();\n    });\n\n  const abs = hdate.abs();\n  if (whole.includes(abs)) {\n    return WHOLE;\n  }\n\n  const half = events\n    .filter(ev => {\n      const desc = ev.getDesc();\n      return (\n        ev.getFlags() & flags.ROSH_CHODESH ||\n        (desc.startsWith('Pesach') &&\n          desc !== 'Pesach I' &&\n          desc !== 'Pesach II')\n      );\n    })\n    .map(ev => {\n      return ev.getDate().abs();\n    });\n\n  if (half.includes(abs)) {\n    return HALF;\n  }\n\n  return NONE;\n}\n"],"mappings":";;;AAGA,MAAMA,IAAI,GAAG,CAAC;AACd,MAAMC,IAAI,GAAG,CAAC;AACd,MAAMC,KAAK,GAAG,CAAC;AAEf;;AAEG;AACa,SAAAC,OAAOA,CAACC,MAAe,EAAEC,KAAY;EACnD,MAAMC,KAAK,GAAGF,MAAA,CACXG,MAAM,CAACC,EAAE,IAAG;IACX,MAAMC,IAAI,GAAWD,EAAE,CAACE,OAAO,EAAE;IACjC,MAAMC,EAAE,GAAUH,EAAE,CAACI,OAAO,EAAE;IAC9B,MAAMC,KAAK,GAAGF,EAAE,CAACG,QAAQ,EAAE;IAC3B,MAAMC,IAAI,GAAGJ,EAAE,CAACC,OAAO,EAAE;IACzB,OACEH,IAAI,CAACO,UAAU,CAAC,UAAU,CAAC,IAC3BP,IAAI,CAACO,UAAU,CAAC,SAAS,CAAC,IAC1BP,IAAI,CAACO,UAAU,CAAC,QAAQ,CAAC,IACxBH,KAAK,KAAKI,MAAM,CAACC,KAAK,KACpBH,IAAI,KAAK,EAAE,IAAIA,IAAI,KAAK,EAAE,CAAC,IAC5BP,EAAE,CAACW,QAAQ,EAAE,GAAGC,KAAK,CAACC,IAAK;IAAA;IAC7BZ,IAAI,KAAK,gBAAgB,IACzBA,IAAI,KAAK,kBAAkB;EAE/B,CAAC,EACAa,GAAG,CAACd,EAAE,IAAG;IACR,OAAOA,EAAE,CAACI,OAAO,EAAE,CAACW,GAAG,EAAE;EAC3B,CAAC,CAAC;EAEJ,MAAMA,GAAG,GAAGlB,KAAK,CAACkB,GAAG,EAAE;EACvB,IAAIjB,KAAK,CAACkB,QAAQ,CAACD,GAAG,CAAC,EAAE;IACvB,OAAOrB,KAAK;;EAGd,MAAMuB,IAAI,GAAGrB,MAAA,CACVG,MAAM,CAACC,EAAE,IAAG;IACX,MAAMC,IAAI,GAAGD,EAAE,CAACE,OAAO,EAAE;IACzB,OACEF,EAAE,CAACW,QAAQ,EAAE,GAAGC,KAAK,CAACM,YAAY,IACjCjB,IAAI,CAACO,UAAU,CAAC,QAAQ,CAAC,IACxBP,IAAI,KAAK,UAAU,IACnBA,IAAI,KAAK,WAAY;EAE3B,CAAC,EACAa,GAAG,CAACd,EAAE,IAAG;IACR,OAAOA,EAAE,CAACI,OAAO,EAAE,CAACW,GAAG,EAAE;EAC3B,CAAC,CAAC;EAEJ,IAAIE,IAAI,CAACD,QAAQ,CAACD,GAAG,CAAC,EAAE;IACtB,OAAOtB,IAAI;;EAGb,OAAOD,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}